<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Admin VIP Test</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial;
  background:#020617;
  color:#e5e7eb;
}
.container{
  max-width:95vw;
  margin:20px auto;
  display:grid;
  grid-template-columns:2.3fr 1fr;
  gap:24px
}
.panel{
  background:#020617;
  border:1px solid #1e293b;
  border-radius:20px;
  padding:22px
}
.title{
  text-align:center;
  font-size:22px;
  font-weight:bold;
  margin-bottom:16px
}
input,button{
  width:100%;
  padding:14px;
  border-radius:12px;
  border:none;
  font-size:16px
}
button{
  margin-top:12px;
  background:#0ea5e9;
  color:#000;
  font-weight:bold;
  cursor:pointer
}

/* ADMIN */
.admin-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 0;
  border-bottom:1px solid #1e293b
}
.admin-box{flex:1}
.stat{
  font-size:12px;
  color:#93c5fd;
  margin-top:4px
}
.lock{
  font-size:22px;
  padding:8px 14px;
  border-radius:999px;
  cursor:pointer
}
.lock-open{background:#22c55e;color:#000}
.lock-close{background:#ef4444;color:#000}
.toggle-admin{
  text-align:right;
  font-size:13px;
  color:#38bdf8;
  cursor:pointer;
  margin-bottom:8px
}
.admin-mini #adminList,
.admin-mini #todayStat{display:none}

/* LOGIN */
#adminLogin{display:none}
.login-box{
  max-width:360px;
  margin:90px auto;
  padding:28px;
  border-radius:20px;
  background:rgba(15,23,42,.6);
  backdrop-filter:blur(14px);
  border:1px solid rgba(148,163,184,.25);
  box-shadow:
    0 0 25px rgba(56,189,248,.25),
    inset 0 0 20px rgba(56,189,248,.15)
}
.login-box h3{
  text-align:center;
  margin-bottom:18px;
  color:#38bdf8;
  text-shadow:0 0 12px rgba(56,189,248,.8)
}
.login-box input{
  background:rgba(2,6,23,.8);
  border:1px solid #1e293b;
  color:#e5e7eb
}
.login-box button{
  background:linear-gradient(90deg,#38bdf8,#818cf8);
  box-shadow:0 0 18px rgba(99,102,241,.7)
}
.pass-wrap{position:relative}
.toggle-pass{
  position:absolute;
  right:14px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  color:#93c5fd
}
.error{
  color:#ef4444;
  font-size:13px;
  margin-top:8px;
  text-align:center
}
</style>
</head>

<body>

<div class="container" id="mainUI">
  <div class="panel">
    <div class="title">CHECK VIP</div>
    <input placeholder="Trang test">
    <button>TEST</button>
  </div>

  <div class="panel" id="adminPanel" style="display:none">
    <div class="toggle-admin" onclick="toggleAdmin()">üóï Thu nh·ªè</div>
    <div class="title">ADMIN</div>
    <div id="todayStat" class="stat"></div>
    <div id="adminList"></div>
  </div>
</div>

<div id="adminLogin">
  <div class="login-box">
    <h3>üîê ADMIN LOGIN</h3>
    <input id="adminUserInput" placeholder="User">
    <div class="pass-wrap">
      <input id="adminPassInput" type="password" placeholder="Password">
      <span class="toggle-pass" onclick="togglePass()">üëÅÔ∏è</span>
    </div>
    <button onclick="loginAdmin()">ƒêƒÇNG NH·∫¨P</button>
    <div id="loginError" class="error"></div>
  </div>
</div>

<script>
/* CONFIG */
const ADMIN_USER="admin";
const ADMIN_PASS="12345";

/* ADMIN DATA */
const defaultAdmins=[
 {name:"Th·ª£ A",key:"A"},
 {name:"Th·ª£ B",key:"B"},
 {name:"Th·ª£ C",key:"C"}
];

let admins=JSON.parse(localStorage.getItem("admins")||JSON.stringify(defaultAdmins));
let locks=JSON.parse(localStorage.getItem("locks")||"{}");
let expires=JSON.parse(localStorage.getItem("expires")||"{}");

/* LOGIN */
function togglePass(){
  adminPassInput.type =
    adminPassInput.type==="password" ? "text" : "password";
}

function loginAdmin(){
  if(
    adminUserInput.value!==ADMIN_USER ||
    adminPassInput.value!==ADMIN_PASS
  ){
    loginError.innerText="‚ùå Sai user ho·∫∑c m·∫≠t kh·∫©u";
    return;
  }
  localStorage.setItem("adminLogin","1");
  showAdmin();
}

/* ADMIN UI */
function toggleAdmin(){
  adminPanel.classList.toggle("admin-mini");
}

function setExpire(key){
  const d=prompt("S·ªë NG√ÄY:");
  const h=prompt("S·ªë GI·ªú:");
  const m=prompt("S·ªë PH√öT:");

  const ms=(+d||0)*86400000+(+h||0)*3600000+(+m||0)*60000;
  if(ms>0) expires[key]=Date.now()+ms;
  else delete expires[key];

  localStorage.setItem("expires",JSON.stringify(expires));
  renderAdmins();
}

function expireInfo(key){
  if(!expires[key]) return "";
  const diff=expires[key]-Date.now();
  if(diff<=0){
    locks[key]=false;
    return "‚õî H·∫øt h·∫°n";
  }
  const totalMin=Math.floor(diff/60000);
  const d=Math.floor(totalMin/1440);
  const h=Math.floor((totalMin%1440)/60);
  const m=totalMin%60;
  return `‚è≥ ${d}d ${h}h ${m}m`;
}

function renderAdmins(){
  adminList.innerHTML=admins.map(a=>{
    const open=locks[a.key]!==false;
    return `
      <div class="admin-row">
        <div class="admin-box">
          <b>${a.name}</b>
          <span style="cursor:pointer" onclick="setExpire('${a.key}')">‚è±Ô∏è</span>
          <div class="stat">${expireInfo(a.key)}</div>
        </div>
        <div class="lock ${open?'lock-open':'lock-close'}"
          onclick="locks['${a.key}']=!${open};localStorage.setItem('locks',JSON.stringify(locks));renderAdmins()">
          ${open?'üîì':'üîí'}
        </div>
      </div>
    `;
  }).join("");
}

function showAdmin(){
  adminLogin.style.display="none";
  mainUI.style.display="grid";
  adminPanel.style.display="block";
  renderAdmins();
}

/* INIT */
(function(){
  const p=new URLSearchParams(location.search);
  if(p.get("u")==="ADMIN"){
    mainUI.style.display="none";
    if(localStorage.getItem("adminLogin")==="1") showAdmin();
    else adminLogin.style.display="block";
  }
})();

setInterval(renderAdmins,60000);
</script>

</body>
</html>
